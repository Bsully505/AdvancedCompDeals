<!DOCTYPE html>
<html>
<body>

<h2>HOT NEW DEALS!!!</h2>


  <label for="keyWord">Search:</label><br>
  <input type="text" id="keyWord" name="keyWord" value=""><br>
  <label for="time">Minutes:</label><br>
  <input type="number" id="time" name="time" value="1"><br><br>
  <button id = "Submit" onclick = "updateText()" type="button">Send</button>


<p>If you click the "Submit" button, the form-data will be sent to ***insert whatever we decide here***.</p>

    <div id="myData"></div>
    <script>
        fetch('/data')
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            var mainContainer = document.getElementById("myData");
            for (var i = 0; i < data[1].length; i++) {
                var div = document.createElement("div");
                div.innerHTML = 'New Deal: ' + data[1][i].Deals;
                mainContainer.appendChild(div);
            }
        }

        function updateText(){

                fetch('GetRestResponse',
                    {method:'Post',
                    headers:{
                        'Content-Type': 'application/json'
                    },
                    body:JSON.stringify({Query: document.getElementById("keyWord").value, Time: document.getElementById("time").value })
                })
            }

    </script>


</body>
</html>
